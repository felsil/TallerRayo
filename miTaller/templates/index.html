{% extends "base.html" %}
{% load static %}

{% block css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
{% endblock css %}

{% block contenido %}
<section id="bienvenida">
  <h2>Bienvenido {{nombre}} {{edad}} al Taller Mecanico</h2>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto fugiat repellat recusandae a animi
    aut magnam quibusdam reprehenderit aperiam nihil minus id voluptates vitae, error delectus dolores!
    Error, minus mollitia.</p>
  
</section>

<section id="blog">
  <h3>Lo ultimo de nuestro blog</h3>
  <div class="contenedor">
    <article>
      <img src="{% static 'img/auto3.jpg' %}" alt="">
      <h4>Trabajos</h4>
    </article>
    <article>
      <img src="{% static 'img/auto4.jpg' %}" alt="">
      <h4>Reparaciones</h4>
    </article>
    <article>
      <img src="{% static 'img/auto5.jpg' %}" alt="">
      <h4>Pintura</h4>
    </article>
  </div>
</section>

<section style="padding-left: 10%; padding-right: 10%;">
  <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
        aria-label="Slide 4"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4"
        aria-label="Slide 5"></button>
    </div>
    <div class="carousel-inner">

      <div class="carousel-item active">
        <img src="{% static 'img/auto2.jpg' %}" class="d-block w-100" height="500px" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Ultimas Reparaciones</h5>
        </div>
      </div>

      {% for reg in lista_reparaciones %}
      <div class="carousel-item">
        <img src="{{reg.imagen.url}}" class="d-block w-100" height="500px" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>{{reg.nombreReparacion}}</h5>
          <p>{{reg.descripcionReparacion}}</p>
        </div>
      </div>
      {% endfor %}


    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</section>



<div class="accordion accordion-flush" id="accordionFlushExample" style="padding-left: 10%; padding-right: 10%;">
  <div class="accordion-item">
    <h2 class="accordion-header" id="flush-headingOne">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
        Listado de Reparaciones (Desde la API)
      </button>
    </h2>
    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
      data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <!--Listado de reparaciones rescatados desde la api (listado_api)-->
        <section>
          <div style="text-align: center; font-size: xx-large;">Listado de reparaciones</div>
          <div style="margin:50px;">
            <table class="table">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Descripcion</th>
                  <th>Imagen</th>
                </tr>
              </thead>
              <tbody>
                {% for reg in listado_api %}
                <tr>
                  <td>{{reg.nombreReparacion}}</td>
                  <td>{{reg.descripcionReparacion}}</td>
                  <td><img src="{{reg.imagen}}" width="150px" height="150px"></td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </section>
        <!-- fin del listado_api (Reparaciones)-->
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="flush-headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
        Listado de Formulario de contacto (Desde la API)
      </button>
    </h2>
    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
      data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        
        <!--Listado de Contactos rescatados desde la api (listado_api_contacto)-->
        <section>
          <div style="text-align: center; font-size: xx-large;">Listado de Contactos</div>
          <div style="margin:50px;">
            <table class="table">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Apellido</th>
                  <th>Email</th>
                  <th>Telefono</th>
                  <th>Mensaje</th>
                </tr>
              </thead>
              <tbody>
                {% for reg in listado_api_contacto %}
                <tr>
                  <td>{{reg.nombreContacto}}</td>
                  <td>{{reg.apellidoContacto}}</td>
                  <td>{{reg.emailContacto}}</td>
                  <td>{{reg.fonoContacto}}</td>
                  <td>{{reg.mensajeContacto}}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </section>
        <!-- fin del listado_api_contacto (Contactos)-->
      
      </div>
    </div>
  </div>
</div>
{% endblock contenido %}

{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
{% endblock js %}